 workflow:
     name : main
     location: ../data/
    
    inputs:
        child_reads : 
            type : SequenceReadArchivePaired
            forward-pattern: "regex"
            backward-pattern: "regex"

        parent_reads : 
            type : SequenceReadArchivePaired
            forward-pattern: "regex"
            backward-pattern: "regex"

        reference_29:
            type: RefGenome
            name: PlasmoDB-29_Pfalciparum3D7_Genome

        gff:
            type: GenFeatureFormat
            name: PlasmoDB-29_Pfalciparum3D7

        blacklist: file:://path/to/CentromereTelomereRegions.bed
        
        
        workflow:
            name : "common"
            Inputs:
                forward: File
                backward: File
            outputs:
                out1:
                out2:
                out3:
            steps:
        
                align:
                    method: align
                    inputs:
                        forward: #<-- Implicit forward / backward mapping 
                        backkward:                
                        reference: referrence_29
                    outputs:
                        aligned-file:
        
                convert:
                    method: samtools-view
                    inputs:
                        input: align/aligned-file
                        output-basename: forward.basename
                    outputs:
                        output:
                dedup:
                
                    outputs:
                        bam:
                        txt:
                        z:
                
    steps:
        process-child:
            method: "common"
            input: child_reads
        
        process-parents:
            method: "common"
            input: parent_reads
                
        merge-parents:
            method: samtools-merge
            inputs:
                bam: process-parent
            outputs:
                merge:
                
        gridss:
            method: gridss-callvariants
            inputs:
                bam: process-child
                input2: merge-parents/merge
                input-label2: merge-parents/merge.basename
                reference_sequence: reference_29
                blacklist: blacklist                

        
        
        
        
        
